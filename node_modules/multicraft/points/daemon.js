module.exports = api => {
  return {
    listConnections: async () => {
      return await api.send("listConnections");
    },
    
    findConnections: async (field, value) => {
      return await api.send("findConnections", `"${field}""${value}"`, {field, value}, true);
    },
    
    getConnection: async (id) => {
      return await api.send("getConnection", id, {id});
    },
    
    removeConnection: async (id) => {
      return await api.send("removeConnection", id, {id});
    },
    
    getConnectionStatus: async (id) => {
      return await api.send("getConnectionStatus", id, {id});
    },
    
    getConnectionMemory: async (id, include_suspended = 0) => {
      return await api.send("getConnectionMemory", `${id}${include_suspended}`, {id, include_suspended});
    },
    
    getStatistics: async (id, include_suspended = 0) => {
      return await api.send("getStatistics", `${id}${include_suspended}`, {id, include_suspended});
    },
  };
};
